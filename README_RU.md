üåê Available in: [English](README.md) | [ŸÅÿßÿ±ÿ≥€å](README_FA.md) | [–†—É—Å—Å–∫–∏–π](README_RU.md) | [‰∏≠Êñá](README_ZH.md)

# Reality SNI Finder

**Reality SNI Finder** –Ω–∞—Ö–æ–¥–∏—Ç HTTPS-–¥–æ–º–µ–Ω—ã (SNI-–∫–∞–Ω–¥–∏–¥–∞—Ç—ã), —Ä–∞–∑–º–µ—â—ë–Ω–Ω—ã–µ –Ω–∞ IP-–∞–¥—Ä–µ—Å–∞—Ö **—Ä—è–¥–æ–º —Å –≤–∞—à–∏–º VPS**, —á—Ç–æ–±—ã –≤—ã –º–æ–≥–ª–∏ –≤—ã–±—Ä–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è SNI —Å –Ω–∏–∑–∫–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π –∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º –º–∞—Ä—à—Ä—É—Ç–æ–º –¥–ª—è **Xray/Reality**.  
–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–∫–∞–Ω–∏—Ä—É–µ—Ç /24 –±–ª–æ–∫ –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –∏ ¬±N —Å–æ—Å–µ–¥–Ω–∏—Ö /24 –±–ª–æ–∫–æ–≤, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç TLS **–±–µ–∑ SNI**, –∏–∑–≤–ª–µ–∫–∞–µ—Ç CN/SAN —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (—Å –Ω–∞–¥—ë–∂–Ω—ã–º —Ä–µ–∑–µ—Ä–≤–æ–º OpenSSL), –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç **—Ä–µ–∞–ª—å–Ω—ã–π HTTP/2** —Å –ø–æ–º–æ—â—å—é `curl --resolve`, —Ä–∞–Ω–∂–∏—Ä—É–µ—Ç –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –ø–æ –±–ª–∏–∑–æ—Å—Ç–∏ –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç **—Ç–æ–ø-30 –¥–æ–º–µ–Ω–æ–≤** –≤ `domains.txt`.

> ‚ö†Ô∏è **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.** –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ IP ‚Äî –¥–∞–∂–µ —Å –Ω–∏–∑–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é ‚Äî –º–æ–∂–µ—Ç –Ω–∞—Ä—É—à–∞—Ç—å Acceptable Use Policy (AUP) –∏–ª–∏ –º–µ—Å—Ç–Ω—ã–µ –∑–∞–∫–æ–Ω—ã. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ **–Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ** –Ω–∏–∂–µ –∏ –¥–µ–π—Å—Ç–≤—É–π—Ç–µ —Ç–æ–ª—å–∫–æ —Ç–∞–º, –≥–¥–µ —É –≤–∞—Å –µ—Å—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ.

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π

```bash
bash -c "$(curl -fsSL https://raw.githubusercontent.com/ShatakVPN/Reality-SNI-Finder/main/reality_sni_finder.sh)"
```

–ú–µ–Ω—é –∑–∞–ø—É—Å–∫–∞:

- **Start scan** ‚Äî –∑–∞–ø—É—Å–∫ —Å–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏  
- **Settings** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤, —Å–∫–æ—Ä–æ—Å—Ç–∏, —Ç–∞–π–º–∞—É—Ç–∞, –ø–æ—Ç–æ–∫–æ–≤, –ø—Ä–æ–≤–µ—Ä–∫–∏ HTTP/2, –≤–∫–ª—é—á–µ–Ω–∏–µ/–∏—Å–∫–ª—é—á–µ–Ω–∏–µ –æ–±—â–∏—Ö SAN –∏ IP-–∞–¥—Ä–µ—Å–∞  
- **Install/Check dependencies** ‚Äî masscan, curl, openssl, python3  
- **View output** ‚Äî –±—ã—Å—Ç—Ä—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤  
- **Clean output** ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ `domains.txt`  

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `.rsf.conf`.

---

## –ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å –±–ª–∏–∑–∫–∏–π SNI –¥–ª—è V2Ray/Reality?

Reality –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **SNI (Server Name Indication)** –≤–Ω—É—Ç—Ä–∏ TLS –¥–ª—è –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏ –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞. –í—ã–±–æ—Ä –¥–æ–º–µ–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ **—Ç–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∏ –±–ª–∏–∑–∫–∏ –∫ –≤–∞—à–µ–º—É VPS**, –¥–∞—ë—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

- **–ú–µ–Ω—å—à–µ –∑–∞–¥–µ—Ä–∂–∫–∞**: TLS handshake –∏ –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ.  
- **–ö–æ—Ä–æ—Ç–∫–∏–π –ø—É—Ç—å, –º–µ–Ω—å—à–µ —Å–±–æ–µ–≤**: –º–µ–Ω—å—à–µ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –æ–∑–Ω–∞—á–∞–µ—Ç –º–µ–Ω—å—à–µ –¥–∂–∏—Ç—Ç–µ—Ä–∞ –∏ –ø–æ—Ç–µ—Ä—å –ø–∞–∫–µ—Ç–æ–≤.  
- **–í—ã—à–µ —Å–∫–æ—Ä–æ—Å—Ç—å**: –Ω–∏–∑–∫–∏–π RTT —É–ª—É—á—à–∞–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ TCP, HTTP/2 –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞.  
- **–ë–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã**: –±–ª–∏–∑–∫–∏–µ —É–∑–ª—ã —Å –º–µ–Ω—å—à–µ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –±—É–¥—É—Ç –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ –¥–∞–ª—å–Ω–∏–µ —Ä–µ–≥–∏–æ–Ω—ã.  
- **–õ—É—á—à–∞—è —Å–∫—Ä—ã—Ç–Ω–æ—Å—Ç—å**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤ —Ä—è–¥–æ–º —Å –≤–∞—à–∏–º VPS —Å–Ω–∏–∂–∞–µ—Ç –∞–Ω–æ–º–∞–ª–∏–∏ –≤ –º–∞—Ä—à—Ä—É—Ç–∞—Ö.  

–ò—Ç–æ–≥: **–±–ª–∏–∑–∫–∏–π –∏ HTTP/2-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π SNI** –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **–±–æ–ª–µ–µ –ø–ª–∞–≤–Ω—ã–π, –±—ã—Å—Ç—Ä—ã–π –∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π** –æ–ø—ã—Ç.

---

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç?

1. **–ù–∞—Ö–æ–¥–∏—Ç IP-–∞–¥—Ä–µ—Å–∞** —Å –ø–æ–º–æ—â—å—é `masscan` –Ω–∞ TCP/443 –≤ –±–ª–æ–∫–µ /24 –≤–∞—à–µ–≥–æ VPS –∏ ¬±N —Å–æ—Å–µ–¥–Ω–∏—Ö –±–ª–æ–∫–∞—Ö.  
2. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç TLS –±–µ–∑ SNI** –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç CN/SAN. –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ SAN –ø—É—Å—Ç–æ–π, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è OpenSSL:  
   ```
   openssl s_client -showcerts | openssl x509 -noout -text
   ```  
3. **–†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç wildcard-–¥–æ–º–µ–Ω—ã** (`*.example.com` ‚Üí `example.com`, `www.example.com`)  
4. **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π HTTP/2** —Å –ø–æ–º–æ—â—å—é `curl --resolve`  
5. **–°—Ç–∞–≤–∏—Ç –æ—Ü–µ–Ω–∫—É** –ø–æ –∑–∞–¥–µ—Ä–∂–∫–µ –∏ —á–∏—Å–ª–æ–≤–æ–º—É —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é IP  
6. **–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–æ–ø-30 –¥–æ–º–µ–Ω–æ–≤** –≤ `domains.txt`

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Linux (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è root –¥–ª—è masscan)  
- masscan, curl, openssl, python3  
- –ò—Å—Ö–æ–¥—è—â–∏–π HTTP/DNS –¥–æ—Å—Ç—É–ø  

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –ª–∞—É–Ω—á–µ—Ä–∞

```bash
bash -c "$(curl -fsSL https://raw.githubusercontent.com/<USER>/<REPO>/main/reality_sni_finder.sh)"
```

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:

```
./domains.txt   # —Ç–æ–ø-30 –¥–æ–º–µ–Ω–æ–≤
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏

- **Blocks each side**: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Å–µ–¥–Ω–∏—Ö /24 –±–ª–æ–∫–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10)  
- **Masscan rate (pps)**: –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 6000  
- **Timeout (sec)**: –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 8  
- **Threads**: –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 128  
- **Verify HTTP/2**: –≤–∫–ª—é—á–µ–Ω–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –∏–ª–∏ –≤—ã–∫–ª—é—á–µ–Ω–æ  
- **Include generic SANs**: –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å  
- **Override ref IP**: –∑–∞–¥–∞—Ç—å –≤—Ä—É—á–Ω—É—é IP-–∞–¥—Ä–µ—Å  

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —Ä–µ–∂–∏–º)

–ü—Ä–∏–º–µ—Ä:

```bash
export RSF_BLOCKS=8 RSF_RATE=4000 RSF_VERIFY_H2=1
bash -c "$(curl -fsSL https://raw.githubusercontent.com/<USER>/<REPO>/main/reality_sni_finder.sh)"
```

---

## –í—ã–≤–æ–¥

- **`domains.txt`** ‚Äî —Ä–æ–≤–Ω–æ 30 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ –∫–∞—á–µ—Å—Ç–≤—É  

–°–æ–≤–µ—Ç: –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É HTTP/2 –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–æ–º–µ–Ω–∞.

---

## –°–æ–≤–µ—Ç—ã –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

- –ù–∞—á–∏–Ω–∞–π—Ç–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ: `RSF_BLOCKS=6` –∏ `RSF_RATE=4000`  
- –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –æ—Ç root –¥–ª—è –ª—É—á—à–µ–π —Ä–∞–±–æ—Ç—ã masscan  
- –ò–∑–±–µ–≥–∞–π—Ç–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤  

---

## –Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

–≠—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç **—Å–µ—Ç–µ–≤–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** –∏ –ø—Ä–æ–≤–µ—Ä–∫—É TLS. –î–∞–∂–µ –Ω–∞ —Å—Ä–µ–¥–Ω–µ–π —Å–∫–æ—Ä–æ—Å—Ç–∏:  
- –º–æ–∂–µ—Ç –Ω–∞—Ä—É—à–∞—Ç—å AUP –∏–ª–∏ ToS –≤–∞—à–µ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞  
- –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏–ª–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏  
- –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–∑–∞–∫–æ–Ω–Ω—ã–º –≤ –≤–∞—à–µ–π —é—Ä–∏—Å–¥–∏–∫—Ü–∏–∏  

–í—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ.  
**–°–∫–∞–Ω–∏—Ä—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–∏–∞–ø–∞–∑–æ–Ω—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —É –≤–∞—Å –µ—Å—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ.**

---

## –ö–∞–∫ —Ä–∞–Ω–∂–∏—Ä—É—é—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–û—Ü–µ–Ω–∫–∞ = `latency_ms + 0.3 * normalized_numeric_ip_distance`  
–ú–µ–Ω—å—à–µ ‚Äî –ª—É—á—à–µ.  

---

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

- **–î–æ–º–µ–Ω—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã** ‚Üí —É–º–µ–Ω—å—à–∏—Ç–µ –¥–∏–∞–ø–∞–∑–æ–Ω, —É–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç  
- **Permission denied** ‚Üí –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –æ—Ç root  
- **–ü—É–±–ª–∏—á–Ω—ã–π IP –Ω–µ –Ω–∞–π–¥–µ–Ω** ‚Üí —É–∫–∞–∂–∏—Ç–µ `RSF_REF_IP` –≤—Ä—É—á–Ω—É—é  
- **–ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ HTTP/2** ‚Üí –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥–æ–º–µ–Ω—ã —Ç—Ä–µ–±—É—é—Ç SNI  

---

## –£–¥–∞–ª–µ–Ω–∏–µ

```bash
rm -f reality_sni_finder.sh reality_sni_finder.py .rsf.conf domains.txt
```

---

## –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

[![Stargazers over time](https://starchart.cc/ShatakVPN/Reality-SNI-Finder.svg?variant=adaptive)](https://starchart.cc/ShatakVPN/Reality-SNI-Finder)

**–ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–º –∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã–º Reality. –°–∫–∞–Ω–∏—Ä—É–π—Ç–µ —Å —É–º–æ–º.**
